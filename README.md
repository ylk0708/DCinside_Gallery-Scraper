# Bol Of Fame (DC Inside Scraper & Viewer)

구글 스프레드시트와 Google Apps Script를 활용하여 DC Inside 갤러리의 문학 작품(추천수 100 이상)을 수집하고 보여주는 웹앱 프로젝트임.

## 📌 주요 기능

*   **자동 수집**: 지정된 갤러리(트릭컬 갤러리)의 창작 태그 게시물 중 추천수 100 이상인 글을 자동 수집함.
*   **중복 관리**: 이미 수집된 글은 추천수를 최신 상태로 업데이트하고, 신규 글만 추가함.
*   **배치 수집**: 과거 데이터(2025년 이전)를 대량으로 수집하는 별도 기능 제공.
*   **웹앱 뷰어**: 수집된 데이터를 모바일 친화적인 UI로 조회하고 검색할 수 있는 웹앱 제공. (필터링, 정렬, 페이지네이션 지원)

## 📂 파일 구조

이 프로젝트는 기능별로 스크립트 파일이 분리되어 있음.

*   **`WebApp.gs`**: 웹앱 서빙(`doGet`) 및 클라이언트 데이터 요청 처리(`getData`).
*   **`Scraper.gs`**: 최신 게시물 수집 로직 (`scrapeDCInside`). 메뉴 `DC Inside 크롤링` > `스크랩 시작` 실행 시 사용됨.
*   **`BatchScraper.gs`**: 과거 데이터 배치 수집 로직 (`scrapeBatch2025`). 메뉴 `DC Inside 2025 수집` 실행 시 사용됨.
*   **`Utils.gs`**: 날짜 변환(`normalizeDate`), URL 생성(`buildTargetUrl`) 등 공통 유틸리티 함수 모음.
*   **`index.html`**: 웹앱 프론트엔드 UI 코드 (HTML/CSS/JS 포함).

## 🚀 설치 및 사용 방법

### 1. 스프레드시트 준비
1.  구글 스프레드시트를 새로 생성함.
2.  상단 메뉴 `확장 프로그램` > `Apps Script` 선택.

### 2. 코드 적용
1.  Apps Script 편집기에서 위 파일 목록에 해당하는 파일들을 각각 생성함 (`+` 버튼).
2.  각 파일의 코드를 복사해서 붙여넣고 저장(`Ctrl + S`)함.
    *   기존 `Code.gs`가 있다면 내용을 지우고 `WebApp.gs` 코드를 넣거나, 삭제 후 새로 생성할 것.

### 3. 스크립트 실행 (데이터 수집)
1.  스프레드시트를 새로고침하면 상단 메뉴에 `DC Inside 크롤링`과 `DC Inside 2025 수집` 메뉴가 생성됨.
2.  **최신글 수집**: `DC Inside 크롤링` > `스크랩 시작` 클릭. (최초 실행 시 권한 허용 필요)
3.  **과거글 수집**: `DC Inside 2025 수집` > `과거 데이터 수집 시작` 클릭. (대량 데이터 수집 시 사용)
    *   배치 수집은 한 번에 50페이지씩 끊어서 실행됨. 완료될 때까지 반복 실행 필요.

### 4. 웹앱 배포 및 접속
1.  Apps Script 편집기 우측 상단 `배포` > `새 배포` 클릭.
2.  유형 선택: `웹 앱`.
3.  액세스 권한: `모든 사용자` (또는 필요에 따라 설정).
4.  `배포` 버튼 클릭 후 생성된 URL로 접속하여 데이터 확인.

## ⚙️ 설정 변경

`Scraper.gs` 및 `BatchScraper.gs` 파일 상단의 `CONFIG` 객체에서 설정을 변경할 수 있음.

```javascript
const CONFIG = {
  GALLERY_ID: 'rollthechess', // 타겟 갤러리 ID
  SEARCH_HEAD: 40,            // 말머리 (40: 창작)
  LIST_NUM: 100,              // 한 페이지당 게시물 수
  START_PAGE: 1,              // 시작 페이지
  MAX_PAGE: 30,               // 최신글 수집 시 탐색할 페이지 범위
  MIN_RECOMMEND: 100          // 수집 최소 추천수 기준
};
```

## 📊 동작 구조

1.  **수집**: Apps Script가 DC Inside를 크롤링 -> HTML 파싱 -> 데이터 추출 -> 스프레드시트에 저장/업데이트.
2.  **조회**: 사용자가 웹앱 URL 접속 -> `index.html` 로드 -> `getData()` 요청 -> 스프레드시트 데이터 반환 -> 화면 렌더링.
